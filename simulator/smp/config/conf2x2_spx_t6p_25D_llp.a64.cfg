simulation_stop = 100e6;
default_clock = 1e9;
qsim_interrupt_handler_clock = 1e3;
kitfox_config = "../config/kitfox-4core.config";
kitfox_freq = 1000;
max_vaults = 32;
max_serdes = 4;

network:
{
    topology = "TORUS";
    x_dimension = 2;
    y_dimension = 4;
    num_vcs = 4;
    credits = 6;
    link_width = 128;

    ni_up_credits = 20; //credits for network interface sending to terminal
    ni_up_buffer = 5; //network interface's output buffer (to terminal) size

    coh_msg_type = 123; //message types
    mem_msg_type = 456;
    credit_msg_type = 789;
};


processor:
{
    type = "SPX";
    node_idx = [0, 1, 2, 3];
    config = "../config/spx-outorder.a64.config";
};

llp_cache:
{
    name = "L1";
    type = "DATA";
    size = 0x8000; //32K
    assoc = 4;
    block_size = 32;
    hit_time = 2;
    lookup_time = 5;
    replacement_policy = "LRU";
    mshr_size = 8;

    downstream_credits = 20; //credits for sending to network
};

lls_cache:
{
    name = "L2";
    type = "DATA";
    size = 0x40000; //256K
    assoc = 8;
    block_size = 32;
    hit_time = 2;
    lookup_time = 5;
    replacement_policy = "LRU";
    mshr_size = 16;

    downstream_credits = 20; //credits for sending to network
};

mc: //hmc unit with memory controllers for each vault
{
    xbar: //cross-bars for hmc
    {
        node_idx = [4, 5, 6, 7]; //node ids of all serdes links
        num_serdes = 4; //number of serdes links per HMC. Can be 2 or 4.
        downstream_credits = 10; //credits for sending to network
	upstream_credits = 10; //credits for sending to vault
    };

    trans_size = 32; // Transaction byte size. Must be equal to cache line size
    num_vaults = 32; // Total number of vaults for the HMC. Can be 16 or 32
    downstream_credits = 10; //credits for sending to xbar
    type = "HMC";
     
    vault: //each vault is a dramsim2 instance
    {
        dev_file = "../config/3d_die.ini";
        sys_file = "../config/3d_die.ini.example";
        size = 128; // 128MB per vault => 4GB for 32 vaults with 4 layers
		    // 256MB per vault => 8GB for 32 vaults with 4 layers
    }
};
